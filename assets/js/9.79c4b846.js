(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{402:function(t,s,a){t.exports=a.p+"assets/img/ApplicationContextInitializer.929e68bf.png"},403:function(t,s){t.exports="data:image/png;base64,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"},404:function(t,s,a){t.exports=a.p+"assets/img/ApplicationListener_used.dcec47ed.png"},405:function(t,s){t.exports="data:image/png;base64,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"},406:function(t,s,a){t.exports=a.p+"assets/img/spring_application_run.e8060fc8.png"},407:function(t,s,a){t.exports=a.p+"assets/img/EnvironmentPostProcessor.dd64f140.png"},489:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[n("strong",[t._v("Table of Contents")]),t._v(" "),n("em",[t._v("generated with "),n("a",{attrs:{href:"https://github.com/thlorenz/doctoc",target:"_blank",rel:"noopener noreferrer"}},[t._v("DocToc"),n("OutboundLink")],1)])]),t._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#web环境检测"}},[t._v("web环境检测")])]),n("li",[n("a",{attrs:{href:"#applicationcontextinitializer"}},[t._v("ApplicationContextInitializer")])]),n("li",[n("a",{attrs:{href:"#applicationlistener"}},[t._v("ApplicationListener")])]),n("li",[n("a",{attrs:{href:"#springapplicationrunlistener"}},[t._v("SpringApplicationRunListener")])]),n("li",[n("a",{attrs:{href:"#starting"}},[t._v("starting")])]),n("li",[n("a",{attrs:{href:"#环境准备"}},[t._v("环境准备")]),n("ul",[n("li",[n("a",{attrs:{href:"#属性来源"}},[t._v("属性来源")])]),n("li",[n("a",{attrs:{href:"#profile配置"}},[t._v("profile配置")])])])]),n("li",[n("a",{attrs:{href:"#environmentprepared"}},[t._v("environmentPrepared")]),n("ul",[n("li",[n("a",{attrs:{href:"#配置文件加载"}},[t._v("配置文件加载")])])])])])]),n("p"),t._v(" "),n("h1",{attrs:{id:"springapplication"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#springapplication"}},[t._v("#")]),t._v(" SpringApplication")]),t._v(" "),n("p",[t._v("启动程序首先初始化了一个SpringApplication对象。来看一看在它的构造器了发生了什么。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResourceLoader")]),t._v(" resourceLoader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" sources"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resourceLoader "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" resourceLoader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("initialize")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sources"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("initialize方法:")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("initialize")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" sources"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sources "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" sources"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sources"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("asList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sources"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webEnvironment "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("deduceWebEnvironment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInitializers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collection")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpringFactoriesInstances")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationContextInitializer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setListeners")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collection")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpringFactoriesInstances")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mainApplicationClass "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("deduceMainApplicationClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"web环境检测"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web环境检测"}},[t._v("#")]),t._v(" web环境检测")]),t._v(" "),n("p",[t._v("deduceWebEnvironment方法用于检测当前是否是web工程环境，检测的标准也很简单，classpath中必须同时存在下面这两个类:")]),t._v(" "),n("ul",[n("li",[t._v("javax.servlet.Servlet")]),t._v(" "),n("li",[t._v("org.springframework.web.context.ConfigurableWebApplicationContext")])]),t._v(" "),n("h2",{attrs:{id:"applicationcontextinitializer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#applicationcontextinitializer"}},[t._v("#")]),t._v(" ApplicationContextInitializer")]),t._v(" "),n("p",[t._v("下一步便是检测应当使用哪些ApplicationContextInitializer，这货并不是spring-boot的专属，而是定义在context下，这东西是在喜闻乐见的refesh方法执行之前留给我们进行自定义初始化的钩子。典型的使用的场景是注册我们自己的属性来源、设置激活的profile。")]),t._v(" "),n("p",[t._v("在简单的web应用场景下(没有数据库/mybatis)，共最终引入了下列的类:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(402),alt:"ApplicationContextInitializer"}})]),t._v(" "),n("p",[t._v("来自于三个jar包:")]),t._v(" "),n("ul",[n("li",[t._v("spring-boot")]),t._v(" "),n("li",[t._v("spring-boot-autoconfigure")]),t._v(" "),n("li",[t._v("spring-beans")])]),t._v(" "),n("h2",{attrs:{id:"applicationlistener"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#applicationlistener"}},[t._v("#")]),t._v(" ApplicationListener")]),t._v(" "),n("p",[t._v("这货是典型的观察者模式实现，类图:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(403),alt:"ApplicationListener"}})]),t._v(" "),n("p",[t._v("在简单的web应用场景下，系统共初始化了这些监听器:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(404),alt:"ApplicationListener"}})]),t._v(" "),n("h2",{attrs:{id:"springapplicationrunlistener"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#springapplicationrunlistener"}},[t._v("#")]),t._v(" SpringApplicationRunListener")]),t._v(" "),n("p",[t._v("就像它长得那样，就是用来监听SpringApplication的run方法的监听器。看看这货用到了哪些实现类:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(405),alt:"SpringApplicationRunListener"}})]),t._v(" "),n("h1",{attrs:{id:"run"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#run"}},[t._v("#")]),t._v(" run")]),t._v(" "),n("p",[t._v("从这一节开始，就进入了SpringApplication的run方法的势力范围。整个方法的流程总结如下图:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(406),alt:"SpringApplication.run"}})]),t._v(" "),n("h2",{attrs:{id:"starting"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#starting"}},[t._v("#")]),t._v(" starting")]),t._v(" "),n("p",[t._v("SpringApplicationRunListener其实起一个广播器的作用，将消息广播给ApplicationListener一节初始化的10个Listener中的某几个。")]),t._v(" "),n("p",[t._v("debug可以发现，对启动事件感兴趣的只有LoggingApplicationListener一个。")]),t._v(" "),n("p",[t._v("当LoggingApplicationListener监听到启动事件时，所作的主要工作便是决定采用哪一个日志框架，其判断逻辑如下:")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("如果系统变量"),n("code",[t._v("org.springframework.boot.logging.LoggingSystem")]),t._v("存在，那么由其决定。")])]),t._v(" "),n("li",[n("p",[t._v("依次检测classpath中这些类是否存在:")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[t._v("ch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("qos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("logback"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Appender")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\norg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apache"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("logging"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log4j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("impl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Log4jContextFactory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\njava"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("logging"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LogManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])]),t._v(" "),n("h2",{attrs:{id:"环境准备"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[t._v("#")]),t._v(" 环境准备")]),t._v(" "),n("p",[t._v("相关源码:")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConfigurableEnvironment")]),t._v(" environment "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("prepareEnvironment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("listeners"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" applicationArguments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("Spring里面的Environment到底是个什么东西，详细参考隔壁(Spring.md)Environment接口一节，总结来说，这货就是属性配置来源(比如系统变量)和profile的综合体。")]),t._v(" "),n("h3",{attrs:{id:"属性来源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#属性来源"}},[t._v("#")]),t._v(" 属性来源")]),t._v(" "),n("p",[t._v("在web环境下共初始化了以下4个属性来源:")]),t._v(" "),n("ul",[n("li",[t._v("System.getProperties()")]),t._v(" "),n("li",[t._v("System.getenv()")]),t._v(" "),n("li",[t._v("servlet-context-init-params")]),t._v(" "),n("li",[t._v("servlet-config-init-params")])]),t._v(" "),n("p",[t._v("有意思的问题：此时servlet-context-init-params和servlet-config-init-params实际上是一个占位符，无法从这两个来源获得任何真实的属性，等到refresh方法执行时才会被真实的来源替换。")]),t._v(" "),n("h3",{attrs:{id:"profile配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#profile配置"}},[t._v("#")]),t._v(" profile配置")]),t._v(" "),n("p",[t._v("SpringApplication.configureProfiles方法:")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("configureProfiles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConfigurableEnvironment")]),t._v(" environment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tenvironment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getActiveProfiles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ensure they are initialized")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// But these ones should go first (last wins in a property key clash)")]),t._v("\n  \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认空")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" profiles "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LinkedHashSet")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("additionalProfiles"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tprofiles"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("asList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("environment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getActiveProfiles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tenvironment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setActiveProfiles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("profiles"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toArray")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("profiles"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("active profile取自上一节中的属性来源，key为"),n("code",[t._v("spring.profiles.active")]),t._v(".")]),t._v(" "),n("h2",{attrs:{id:"environmentprepared"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#environmentprepared"}},[t._v("#")]),t._v(" environmentPrepared")]),t._v(" "),n("h3",{attrs:{id:"配置文件加载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置文件加载"}},[t._v("#")]),t._v(" 配置文件加载")]),t._v(" "),n("p",[t._v("监听器ConfigFileApplicationListener负责spring-boot配置文件的加载，ConfigFileApplicationListener默认会从以下的位置搜索配置文件:")]),t._v(" "),n("ol",[n("li",[t._v("classpath下的application.properties或application.yml")]),t._v(" "),n("li",[t._v("file:./下的application.properties或application.yml")]),t._v(" "),n("li",[t._v("classpath:config目录下的application.properties或application.yml")]),t._v(" "),n("li",[t._v("file:./config目录下的application.properties或application.yml")])]),t._v(" "),n("p",[t._v("此监听器是如何加载的?源码:")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onApplicationEnvironmentPreparedEvent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationEnvironmentPreparedEvent")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EnvironmentPostProcessor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" postProcessors "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadPostProcessors")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tpostProcessors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnnotationAwareOrderComparator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("postProcessors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EnvironmentPostProcessor")]),t._v(" postProcessor "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" postProcessors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tpostProcessor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("postProcessEnvironment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEnvironment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\tevent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpringApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("显然核心的加载操作是通过EnvironmentPostProcessor接口实现的，此接口允许我们在context刷新之前自定义配置加载，并且Spring推荐此接口的实现类同时实现Ordered接口。类图:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(407),alt:"EnvironmentPostProcessor"}})]),t._v(" "),n("p",[t._v("加上ConfigFileApplicationListener自己，spring-boot默认共初始化了三个加载器，其它两个是SpringApplicationJsonEnvironmentPostProcessor和CloudFoundryVcapEnvironmentPostProcessor，下面按照其优先级顺序进行说明。")]),t._v(" "),n("h4",{attrs:{id:"springapplicationjsonenvironmentpostprocessor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#springapplicationjsonenvironmentpostprocessor"}},[t._v("#")]),t._v(" SpringApplicationJsonEnvironmentPostProcessor")]),t._v(" "),n("p",[t._v("尝试读取spring.application.json或SPRING_APPLICATION_JSON系统指定的json配置文件，从这里加载的配置具有最高的优先级，当然，默认是没有的。")]),t._v(" "),n("h4",{attrs:{id:"cloudfoundryvcapenvironmentpostprocessor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cloudfoundryvcapenvironmentpostprocessor"}},[t._v("#")]),t._v(" CloudFoundryVcapEnvironmentPostProcessor")]),t._v(" "),n("p",[t._v("从Cloud Foundry加载配置，这是什么东西问度娘。")]),t._v(" "),n("h4",{attrs:{id:"configfileapplicationlistener"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configfileapplicationlistener"}},[t._v("#")]),t._v(" ConfigFileApplicationListener")]),t._v(" "),n("p",[t._v("这里就是加载配置文件加载一节所说的配置文件的过程。")]),t._v(" "),n("p",[t._v("TODO: 多profile配置文件加载")])])}),[],!1,null,null,null);s.default=e.exports}}]);